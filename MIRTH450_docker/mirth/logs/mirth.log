ERROR 2024-03-16 19:34:23.041 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '803287895','12 rue de l'abbÃ© dubois','ville803287895','cp803287895','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '803287895','12 rue de l'abbÃ© dubois','ville803287895','cp803287895','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:34:25.219 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811792576','4 CLOS DE L'ABBREVOIR','ville811792576','cp811792576','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811792576','4 CLOS DE L'ABBREVOIR','ville811792576','cp811792576','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:34:25.898 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '752559870','174 ROUTE D'ORLEANS','ville752559870','cp752559870','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '752559870','174 ROUTE D'ORLEANS','ville752559870','cp752559870','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:35:29.903 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '801653198','13 AVENUE DU PARC DE L' ETUVEE','ville801653198','cp801653198','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '801653198','13 AVENUE DU PARC DE L' ETUVEE','ville801653198','cp801653198','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:35:33.385 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812713258','658 rue du chateau d'eau','ville812713258','cp812713258','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812713258','658 rue du chateau d'eau','ville812713258','cp812713258','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:35:59.140 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '401472081','RESIDENCE L' ORENTAY 15 AV DE LA RI','ville401472081','cp401472081','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '401472081','RESIDENCE L' ORENTAY 15 AV DE LA RI','ville401472081','cp401472081','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:36:06.495 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '400591212','23 RUE HUILLARD D'HEROU','ville400591212','cp400591212','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '400591212','23 RUE HUILLARD D'HEROU','ville400591212','cp400591212','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:36:34.793 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '800422236','FOYER D' ACCUEIL MEDICALISE 23 RUE ','ville800422236','cp800422236','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '800422236','FOYER D' ACCUEIL MEDICALISE 23 RUE ','ville800422236','cp800422236','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:36:43.446 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '801653198','13 AVENUE DU PARC DE L' ETUVEE','ville801653198','cp801653198','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '801653198','13 AVENUE DU PARC DE L' ETUVEE','ville801653198','cp801653198','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:37:29.430 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 152 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '752358846','100 RUE DE L'OREE DU BOIS','ville752358846','cp752358846','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 152 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '752358846','100 RUE DE L'OREE DU BOIS','ville752358846','cp752358846','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:37:54.209 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811765700','11 ROUTE D' ORLEANS','ville811765700','cp811765700','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811765700','11 ROUTE D' ORLEANS','ville811765700','cp811765700','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:37:54.403 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811765700','11 ROUTE D' ORLEANS','ville811765700','cp811765700','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811765700','11 ROUTE D' ORLEANS','ville811765700','cp811765700','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:37:54.715 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811765700','11 ROUTE D' ORLEANS','ville811765700','cp811765700','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811765700','11 ROUTE D' ORLEANS','ville811765700','cp811765700','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:38:11.168 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802026207','1660 RUE DE LA PLAINE D'AZENNE','ville802026207','cp802026207','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802026207','1660 RUE DE LA PLAINE D'AZENNE','ville802026207','cp802026207','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:38:29.546 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812572203','13 RUE DE L'ARGONNE ENTREE AGOSTINI','ville812572203','cp812572203','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812572203','13 RUE DE L'ARGONNE ENTREE AGOSTINI','ville812572203','cp812572203','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:39:46.770 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: ERROR: syntax error at or near "ENFANCE"
  Position: 103
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "ENFANCE"
  Position: 103
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:39:54.072 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 145 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '059020052','8 Rue De L'Ã©glise','ville059020052','cp059020052','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 145 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '059020052','8 Rue De L'Ã©glise','ville059020052','cp059020052','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:39:55.890 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811765700','11 ROUTE D' ORLEANS','ville811765700','cp811765700','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811765700','11 ROUTE D' ORLEANS','ville811765700','cp811765700','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:05.435 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812839007','29 rue des droits de l'homme','ville812839007','cp812839007','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812839007','29 rue des droits de l'homme','ville812839007','cp812839007','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:09.926 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812839007','29 rue des droits de l'homme','ville812839007','cp812839007','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812839007','29 rue des droits de l'homme','ville812839007','cp812839007','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:17.027 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 145 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811906722','46 ROUTE D'ORLEANS','ville811906722','cp811906722','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 145 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811906722','46 ROUTE D'ORLEANS','ville811906722','cp811906722','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:26.541 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812043010','25 D RUE BASSE D' INGRE','ville812043010','cp812043010','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812043010','25 D RUE BASSE D' INGRE','ville812043010','cp812043010','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:26.694 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812043010','25 D RUE BASSE D' INGRE','ville812043010','cp812043010','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812043010','25 D RUE BASSE D' INGRE','ville812043010','cp812043010','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:26.828 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812043010','25 D RUE BASSE D' INGRE','ville812043010','cp812043010','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812043010','25 D RUE BASSE D' INGRE','ville812043010','cp812043010','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:29.074 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '058405114','1 rue de l'armistice','ville058405114','cp058405114','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '058405114','1 rue de l'armistice','ville058405114','cp058405114','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:35.618 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812807241','9 RUE JEAN D' AULON','ville812807241','cp812807241','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812807241','9 RUE JEAN D' AULON','ville812807241','cp812807241','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:35.781 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812807241','9 RUE JEAN D' AULON','ville812807241','cp812807241','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812807241','9 RUE JEAN D' AULON','ville812807241','cp812807241','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:47.119 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812807241','9 RUE JEAN D' AULON','ville812807241','cp812807241','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812807241','9 RUE JEAN D' AULON','ville812807241','cp812807241','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:40:50.849 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '000502882','20 RUE D'AUVERGNE LA FOLIE JOINVILL','ville000502882','cp000502882','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '000502882','20 RUE D'AUVERGNE LA FOLIE JOINVILL','ville000502882','cp000502882','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:41:00.585 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 153 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '057139767','110 rue Jean d'Arc Hall 05','ville057139767','cp057139767','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 153 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '057139767','110 rue Jean d'Arc Hall 05','ville057139767','cp057139767','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:41:23.694 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810622548','54 Rue Jeanne D'arc','ville810622548','cp810622548','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810622548','54 Rue Jeanne D'arc','ville810622548','cp810622548','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:41:24.007 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810622548','54 Rue Jeanne D'arc','ville810622548','cp810622548','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810622548','54 Rue Jeanne D'arc','ville810622548','cp810622548','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:41:24.323 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810622548','54 Rue Jeanne D'arc','ville810622548','cp810622548','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810622548','54 Rue Jeanne D'arc','ville810622548','cp810622548','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:41:33.226 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113009231','11 ALLEE DE L'HERMITAGE','ville113009231','cp113009231','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113009231','11 ALLEE DE L'HERMITAGE','ville113009231','cp113009231','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:41:33.681 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113009231','11 ALLEE DE L'HERMITAGE','ville113009231','cp113009231','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113009231','11 ALLEE DE L'HERMITAGE','ville113009231','cp113009231','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:41:34.428 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812043010','25 D RUE BASSE D' INGRE','ville812043010','cp812043010','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812043010','25 D RUE BASSE D' INGRE','ville812043010','cp812043010','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:41:52.468 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812147729','29 rue de l'egalite','ville812147729','cp812147729','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812147729','29 rue de l'egalite','ville812147729','cp812147729','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:41:57.587 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812147729','29 rue de l'egalite','ville812147729','cp812147729','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812147729','29 rue de l'egalite','ville812147729','cp812147729','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:42:00.561 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811106952','44 bis rue abbÃ© de l'Ã©pÃ©e','ville811106952','cp811106952','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811106952','44 bis rue abbÃ© de l'Ã©pÃ©e','ville811106952','cp811106952','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:42:02.412 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '000502882','20 RUE D'AUVERGNE LA FOLIE JOINVILL','ville000502882','cp000502882','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 162 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '000502882','20 RUE D'AUVERGNE LA FOLIE JOINVILL','ville000502882','cp000502882','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:42:05.229 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812839007','29 rue des droits de l'homme','ville812839007','cp812839007','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812839007','29 rue des droits de l'homme','ville812839007','cp812839007','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:42:09.128 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113009231','11 ALLEE DE L'HERMITAGE','ville113009231','cp113009231','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113009231','11 ALLEE DE L'HERMITAGE','ville113009231','cp113009231','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:42:10.013 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811215743','26 TER ROUTE D' OLIVET','ville811215743','cp811215743','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811215743','26 TER ROUTE D' OLIVET','ville811215743','cp811215743','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:42:16.775 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812839060','4 place de l'abbaye','ville812839060','cp812839060','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812839060','4 place de l'abbaye','ville812839060','cp812839060','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:42:26.246 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802743070','8 RUE DE L'ALOUETTE','ville802743070','cp802743070','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802743070','8 RUE DE L'ALOUETTE','ville802743070','cp802743070','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:42:52.014 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 144 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '801706192','22 ROUTE D'OUSSON','ville801706192','cp801706192','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 144 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '801706192','22 ROUTE D'OUSSON','ville801706192','cp801706192','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:04.065 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '800801289','1275 ROUTE D'OLIVET','ville800801289','cp800801289','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '800801289','1275 ROUTE D'OLIVET','ville800801289','cp800801289','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:18.458 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 142 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '401115663','57 rue d'Ambert','ville401115663','cp401115663','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 142 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '401115663','57 rue d'Ambert','ville401115663','cp401115663','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:25.270 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 153 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812502230','2 IMPASSE DU JARDIN D'EDEN','ville812502230','cp812502230','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 153 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812502230','2 IMPASSE DU JARDIN D'EDEN','ville812502230','cp812502230','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:31.796 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '401853915','1681 ROUTE D'ORLEANS','ville401853915','cp401853915','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '401853915','1681 ROUTE D'ORLEANS','ville401853915','cp401853915','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:35.187 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802191859','25 D RUE BASSE D'INGRE','ville802191859','cp802191859','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802191859','25 D RUE BASSE D'INGRE','ville802191859','cp802191859','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:45.008 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 152 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812840131','810 rue de l'orme au coin','ville812840131','cp812840131','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 152 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812840131','810 rue de l'orme au coin','ville812840131','cp812840131','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:50.419 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810387583','1623 rue de l'hotel Dieu','ville810387583','cp810387583','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810387583','1623 rue de l'hotel Dieu','ville810387583','cp810387583','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:51.215 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '751049289','1944 RUE DE L'HOTEL DIEU','ville751049289','cp751049289','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '751049289','1944 RUE DE L'HOTEL DIEU','ville751049289','cp751049289','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:56.766 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 144 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '803054784','57 ROUTE D' AUNAY','ville803054784','cp803054784','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 144 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '803054784','57 ROUTE D' AUNAY','ville803054784','cp803054784','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:57.845 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811966225','1113 ROUTE D'ORLEANS','ville811966225','cp811966225','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811966225','1113 ROUTE D'ORLEANS','ville811966225','cp811966225','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:57.986 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811966225','1113 ROUTE D'ORLEANS','ville811966225','cp811966225','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811966225','1113 ROUTE D'ORLEANS','ville811966225','cp811966225','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:58.644 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113032506','346 RUE DU RAYON D'OR','ville113032506','cp113032506','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113032506','346 RUE DU RAYON D'OR','ville113032506','cp113032506','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:58.793 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113032506','346 RUE DU RAYON D'OR','ville113032506','cp113032506','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113032506','346 RUE DU RAYON D'OR','ville113032506','cp113032506','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:59.106 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113032506','346 RUE DU RAYON D'OR','ville113032506','cp113032506','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '113032506','346 RUE DU RAYON D'OR','ville113032506','cp113032506','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:43:59.578 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812837082','3 clos de l'abreuvoir','ville812837082','cp812837082','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812837082','3 clos de l'abreuvoir','ville812837082','cp812837082','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:44:24.620 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 153 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812502230','2 IMPASSE DU JARDIN D'EDEN','ville812502230','cp812502230','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 153 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812502230','2 IMPASSE DU JARDIN D'EDEN','ville812502230','cp812502230','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:44:28.089 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811966225','1113 ROUTE D'ORLEANS','ville811966225','cp811966225','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811966225','1113 ROUTE D'ORLEANS','ville811966225','cp811966225','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:44:38.739 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '804371705','7 rue arsene d'arsenval','ville804371705','cp804371705','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '804371705','7 rue arsene d'arsenval','ville804371705','cp804371705','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:44:39.648 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810456937','22 place jeanne d'arc','ville810456937','cp810456937','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810456937','22 place jeanne d'arc','ville810456937','cp810456937','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:44:39.782 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810456937','22 place jeanne d'arc','ville810456937','cp810456937','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810456937','22 place jeanne d'arc','ville810456937','cp810456937','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:44:39.927 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810456937','22 place jeanne d'arc','ville810456937','cp810456937','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810456937','22 place jeanne d'arc','ville810456937','cp810456937','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:44:47.692 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811182316','1216 RUE DE LA PLAINE D'AZENNE','ville811182316','cp811182316','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811182316','1216 RUE DE LA PLAINE D'AZENNE','ville811182316','cp811182316','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:44:47.861 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811182316','1216 RUE DE LA PLAINE D'AZENNE','ville811182316','cp811182316','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811182316','1216 RUE DE LA PLAINE D'AZENNE','ville811182316','cp811182316','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:45:14.340 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 143 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '803348650','9 rue de l'enfer','ville803348650','cp803348650','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 143 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '803348650','9 rue de l'enfer','ville803348650','cp803348650','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:45:18.848 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '402023720','21 domaine de l'ARDOUX','ville402023720','cp402023720','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '402023720','21 domaine de l'ARDOUX','ville402023720','cp402023720','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:45:27.434 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '400042214','11 bis rue de l 'ecale','ville400042214','cp400042214','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '400042214','11 bis rue de l 'ecale','ville400042214','cp400042214','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:45:30.542 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '111602104','19 DOMAINE DE L 'ARDOUX','ville111602104','cp111602104','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 150 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '111602104','19 DOMAINE DE L 'ARDOUX','ville111602104','cp111602104','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:45:38.651 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '804203890','1478 RUE DE LA PLAINE D 'AZENN','ville804203890','cp804203890','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 157 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '804203890','1478 RUE DE LA PLAINE D 'AZENN','ville804203890','cp804203890','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:45:45.315 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 143 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812821395','6 FBG D' ORLEANS','ville812821395','cp812821395','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 143 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812821395','6 FBG D' ORLEANS','ville812821395','cp812821395','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:45:45.829 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812534044','35 DOMAINE DE L'ARDOUX','ville812534044','cp812534044','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812534044','35 DOMAINE DE L'ARDOUX','ville812534044','cp812534044','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:45:56.657 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802743070','8 RUE DE L'ALOUETTE','ville802743070','cp802743070','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802743070','8 RUE DE L'ALOUETTE','ville802743070','cp802743070','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:46:04.209 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 144 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812817362','4 RUE DE L'EGLISE','ville812817362','cp812817362','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 144 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812817362','4 RUE DE L'EGLISE','ville812817362','cp812817362','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:46:14.804 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '804455893','12 RUE DE L'ABBE DU BOIS','ville804455893','cp804455893','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '804455893','12 RUE DE L'ABBE DU BOIS','ville804455893','cp804455893','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:46:14.962 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '401201175','32 CHEMIN DE L'ANCIEN MOULIN','ville401201175','cp401201175','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 155 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '401201175','32 CHEMIN DE L'ANCIEN MOULIN','ville401201175','cp401201175','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:46:55.132 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812840638','3 BIS RUE DE L'ENFER','ville812840638','cp812840638','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 147 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812840638','3 BIS RUE DE L'ENFER','ville812840638','cp812840638','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:47:42.406 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 153 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '801797981','1302 RUE DE L'ORME AU COIN','ville801797981','cp801797981','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 153 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '801797981','1302 RUE DE L'ORME AU COIN','ville801797981','cp801797981','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:47:52.535 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '402000962','180 RUE DU ROND D'EAU','ville402000962','cp402000962','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 148 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '402000962','180 RUE DU ROND D'EAU','ville402000962','cp402000962','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:48:18.838 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802068150','14 RUE DE L' ABBE DUBOIS','ville802068150','cp802068150','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 151 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '802068150','14 RUE DE L' ABBE DUBOIS','ville802068150','cp802068150','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:48:33.167 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812835268','36 rue Jeanne d'Arc','ville812835268','cp812835268','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812835268','36 rue Jeanne d'Arc','ville812835268','cp812835268','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:49:36.819 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812840356','14 AVENUE DE L'HOPITAL','ville812840356','cp812840356','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 149 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '812840356','14 AVENUE DE L'HOPITAL','ville812840356','cp812840356','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:49:55.384 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811355040','100 ROUTE D'ORLEANS','ville811355040','cp811355040','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 146 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '811355040','100 ROUTE D'ORLEANS','ville811355040','cp811355040','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
ERROR 2024-03-16 19:50:08.549 [Database Writer JavaScript Task on TP1-donne-patient (773e0c66-e3b0-479b-ac82-38b33f53619f), Destination 1 (1) < pool-1-thread-6] com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript: Error evaluating Database Writer (Database Writer "Destination 1" on channel 773e0c66-e3b0-479b-ac82-38b33f53619f).
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	TP1-donne-patient
CONNECTOR:	Destination 1
SOURCE CODE:	
105:     var insertPersonScript = "INSERT INTO personsimple (person_id, nom, prenom, naissance, sexe) VALUES ('" + $('ipp') + "','" + $('nom') + "','" + $('prenom') + "','" + $('naissance') + "','" + $('sexe') + "')";
106:     dbConn.executeUpdate(insertPersonScript);
107: 
108:     // Insertion des données dans la table Address
109:     var insertAddressScript = "INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '" + $('ipp') +"','" + $('address') + "','" + $('ville') + "','" + $('code_postale') + "','" + $('pays') + "')";
110:     dbConn.executeUpdate(insertAddressScript);
111: 
112:     // Insertion des données dans la table Movements
113:     var insertMovementsScript = "INSERT INTO movements (person_id, numero_sejour, service, date_mouvement) VALUES ( '" + $('ipp') + "','" +$('numero_sejour') + "','" + $('service') + "','" + $('date_admission') + "')";
114:     dbConn.executeUpdate(insertMovementsScript);
LINE NUMBER:	110
DETAILS:	Wrapped org.postgresql.util.PSQLException: Unterminated string literal started at position 152 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810995352','14 RUE DU MOULIN D' AVAUX','ville810995352','cp810995352','100'). Expected  char
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:110 (doScript)
	at 773e0c66-e3b0-479b-ac82-38b33f53619f_Database_Writer_1:127
	at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1899) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:226) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1692) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1013) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:109) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:412) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3578) ~[rhino-1.7.13.jar:1.7.13]
	at org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:121) ~[rhino-1.7.13.jar:1.7.13]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.executeScript(JavaScriptTask.java:151) ~[mirth-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:615) ~[mirth-server.jar:?]
	at com.mirth.connect.connectors.jdbc.DatabaseDispatcherScript$DatabaseDispatcherTask.doCall(DatabaseDispatcherScript.java:202) ~[jdbc-server.jar:?]
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:114) ~[mirth-server.jar:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:840) ~[?:?]
Caused by: org.postgresql.util.PSQLException: Unterminated string literal started at position 152 in SQL INSERT INTO address (person_id, address, ville, code_postale, pays) VALUES ( '810995352','14 RUE DU MOULIN D' AVAUX','ville810995352','cp810995352','100'). Expected  char
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.parseSql(Parser.java:1350) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1294) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:369) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.mirth.connect.server.userutil.DatabaseConnection.executeUpdate(DatabaseConnection.java:156) ~[mirth-server.jar:?]
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:138) ~[rhino-1.7.13.jar:1.7.13]
	... 15 more
INFO  2024-03-17 00:17:23.723 [Shutdown Hook Thread] com.mirth.connect.server.Mirth: shutting down mirth due to normal request
INFO  2024-03-17 19:23:16.712 [Main Server Thread] com.mirth.connect.server.Mirth: Mirth Connect 4.5.0 (Built on January 17, 2024) server successfully started.
INFO  2024-03-17 19:23:16.717 [Main Server Thread] com.mirth.connect.server.Mirth: This product was developed by NextGen Healthcare (https://www.nextgen.com) and its contributors (c)2005-2024.
INFO  2024-03-17 19:23:16.718 [Main Server Thread] com.mirth.connect.server.Mirth: Running OpenJDK 64-Bit Server VM 17.0.10 on Linux (5.15.146.1-microsoft-standard-WSL2, amd64), postgres, with charset UTF-8.
INFO  2024-03-17 19:23:16.719 [Main Server Thread] com.mirth.connect.server.Mirth: Web server running at http://172.20.0.2:8080/ and https://172.20.0.2:8443/
